<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu칤a de pH y EC</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="grow_theme.css">

    <!-- Google Translate Script -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'es',
                includedLanguages: 'en,fr,de,it,pt,ru,ja,ko,zh-CN,ar',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false,
                gaTrack: true,
                gaId: 'G-LLRTFTH5W6',
                multilanguagePage: true,
                gaTrack: true
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <!-- Additional Translate Functionality -->
    <script>
        // Debug function to check if Google Translate is loading
        function checkGoogleTranslate() {
            console.log('Checking Google Translate...');
            const translateElement = document.getElementById('google_translate_element');
            if (translateElement) {
                console.log('Translate element found:', translateElement);
                console.log('Translate element content:', translateElement.innerHTML);
            } else {
                console.log('Translate element NOT found');
            }
            
            // Check if Google Translate script is loaded
            if (typeof google !== 'undefined' && google.translate) {
                console.log('Google Translate API loaded successfully');
            } else {
                console.log('Google Translate API NOT loaded');
            }
        }
        
        // Enhanced translation functionality
        function enhanceTranslation() {
            // Wait for Google Translate to be fully loaded
            setTimeout(() => {
                const translateElement = document.querySelector('.goog-te-gadget');
                if (translateElement) {
                    // Add custom styling to make it more visible
                    translateElement.style.display = 'inline-block';
                    translateElement.style.margin = '0 auto';
                    
                    // Ensure the widget is properly centered
                    const widget = document.getElementById('google_translate_element');
                    if (widget) {
                        widget.style.textAlign = 'center';
                        widget.style.display = 'block';
                    }
                    
                    console.log('Google Translate widget enhanced and ready');
                }
            }, 2000);
        }
        
        // Function to ensure all content is translatable
        function ensureTranslatableContent() {
            // Add translate attributes to dynamic content
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'childList') {
                        mutation.addedNodes.forEach(function(node) {
                            if (node.nodeType === 1) { // Element node
                                // Ensure new content is translatable
                                if (!node.hasAttribute('translate')) {
                                    node.setAttribute('translate', 'yes');
                                }
                                
                                // Check child elements
                                const elements = node.querySelectorAll('*');
                                elements.forEach(function(element) {
                                    if (!element.hasAttribute('translate')) {
                                        element.setAttribute('translate', 'yes');
                                    }
                                });
                            }
                        });
                    }
                });
            });

            // Start observing
            observer.observe(document.body, {
                childList: true,
                subtree: true
            });

            console.log('Translation observer started - all content will be translatable');
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, checking Google Translate...');
            setTimeout(checkGoogleTranslate, 1000);
            enhanceTranslation();
        });
        
        // Check again after a longer delay
        setTimeout(checkGoogleTranslate, 3000);
        
        // Start the translation observer
        setTimeout(ensureTranslatableContent, 3000);
    </script>

</head>
<body>
    <div id="theme-toggle-btn" class="theme-toggle-btn">
        <span class="theme-icon">游꿛</span>
    </div>
    <div class="container">
        <header>
            <img src="./logo_large.png" alt="Grow Calculator App Logo" class="logo-large">
            <h1>Gu칤a de pH y EC</h1>

            <!-- Google Translate Widget -->
            <div id="google_translate_element" class="translate-widget"></div>

        </header>

        <nav class="navigation">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Volver al 칈ndice</a>
                </li>
                <li class="nav-item">
                    <a href="guia_basica.html" class="nav-link">Anterior: Gu칤a B치sica</a>
                </li>
                <li class="nav-item">
                    <a href="temperatura_humedad.html" class="nav-link">Siguiente: Temperatura y Humedad</a>
                </li>
            </ul>
        </nav>

        <div class="table-of-contents">
            <details>
                <summary>칈ndice</summary>
                <div class="toc-content">
                    <!-- El 칤ndice se generar치 din치micamente basado en los h2 y h3 del contenido -->
                </div>
            </details>
        </div>

        <div class="content">
            <h2>Introducci칩n</h2>
            <p>El cultivo en interior (indoor) permite un control preciso de todas las variables que afectan al desarrollo de la planta. Entre los par치metros m치s importantes que deben monitorearse constantemente destacan el pH y la conductividad el칠ctrica (EC), dos factores que determinan en gran medida el 칠xito de la cosecha.</p>

            <h2>쯈u칠 es el pH y por qu칠 es crucial?</h2>
            <p>El pH es una medida de la acidez o alcalinidad de una soluci칩n, que se expresa en una escala de 0 a 14, donde 7 es neutro, por debajo de 7 es 치cido y por encima de 7 es alcalino o b치sico. En el cultivo, el pH afecta directamente a la disponibilidad de nutrientes para la planta, ya que cada nutriente se absorbe de manera 칩ptima en un rango espec칤fico de pH.</p>

            <div class="info-box">
                <h3>Rango 칩ptimo de pH</h3>
                <ul>
                    <li>Cultivo en tierra: 6.0 - 6.8</li>
                    <li>Cultivo hidrop칩nico o coco: 5.5 - 6.5</li>
                </ul>
                <p>Mantener el pH dentro de estos rangos asegura una absorci칩n adecuada de nutrientes. Cuando el pH est치 fuera de estos rangos, incluso si los nutrientes est치n presentes en la soluci칩n nutritiva, las plantas no podr치n asimilarlos correctamente, lo que conduce a deficiencias nutricionales.</p>
            </div>

            <h3>S칤ntomas de problemas de pH</h3>
            <div class="warning-box">
                <h4>pH demasiado bajo (muy 치cido):</h4>
                <ul>
                    <li>Toxicidad por micronutrientes</li>
                    <li>Bloqueo de calcio y magnesio</li>
                    <li>Crecimiento atrofiado</li>
                </ul>

                <h4>pH demasiado alto (muy alcalino):</h4>
                <ul>
                    <li>Deficiencias de hierro, manganeso, boro y f칩sforo</li>
                    <li>Clorosis (amarillamiento) entre las venas de las hojas</li>
                </ul>
            </div>

            <h2>La Conductividad El칠ctrica (EC)</h2>
            <p>La EC mide la capacidad de una soluci칩n para conducir electricidad, lo que est치 directamente relacionado con la cantidad de sales minerales (nutrientes) disueltas en el agua. Se mide en milisiemens por cent칤metro (mS/cm) o en microsiemens por cent칤metro (풮S/cm).</p>

            <div class="info-box">
                <h3>Valores recomendados de EC seg칰n la etapa de crecimiento</h3>
                <ul>
                    <li>Esquejes y pl치ntulas: 0.5 - 1.0 mS/cm</li>
                    <li>Fase vegetativa temprana: 1.0 - 1.5 mS/cm</li>
                    <li>Fase vegetativa tard칤a: 1.5 - 2.0 mS/cm</li>
                    <li>Floraci칩n temprana: 2.0 - 2.5 mS/cm</li>
                    <li>Floraci칩n media: 2.2 - 2.7 mS/cm</li>
                    <li>Floraci칩n tard칤a: 1.5 - 2.0 mS/cm (reducci칩n para mejorar sabor)</li>
                    <li>Lavado final: 0.0 - 0.5 mS/cm</li>
                </ul>
            </div>

            <h3>Consecuencias de una EC inadecuada</h3>
            <div class="warning-box">
                <h4>EC demasiado baja:</h4>
                <ul>
                    <li>Crecimiento lento</li>
                    <li>Tama침o reducido</li>
                    <li>Rendimientos pobres debido a la escasez de nutrientes</li>
                </ul>

                <h4>EC demasiado alta:</h4>
                <ul>
                    <li>"Quemadura por nutrientes" (puntas marrones y rizadas)</li>
                    <li>Bloqueo osm칩tico</li>
                    <li>Impedimento en la absorci칩n de agua por las ra칤ces</li>
                </ul>
            </div>

            <h2>La Relaci칩n entre pH y EC</h2>
            <p>El pH y la EC trabajan en conjunto. Si uno est치 fuera de rango, afectar치 al otro:</p>
            <ul>
                <li>Un pH incorrecto puede hacer que ciertos nutrientes no sean absorbidos, elevando as칤 la EC de la soluci칩n.</li>
                <li>Una EC demasiado alta puede dificultar la estabilizaci칩n del pH.</li>
            </ul>

            <h2>M칠todos de Medici칩n y Ajuste</h2>

            <h3>Medici칩n del pH</h3>
            <div class="info-box">
                <h4>Herramientas:</h4>
                <ul>
                    <li>Medidores digitales: Ofrecen lecturas precisas y son f치ciles de usar.</li>
                    <li>Tiras reactivas: Econ칩micas pero menos precisas.</li>
                    <li>Kits l칤quidos de pH: Proporcionan una precisi칩n intermedia.</li>
                </ul>

                <h4>Ajuste del pH:</h4>
                <ul>
                    <li>Para reducir el pH (hacerlo m치s 치cido): 츼cido fosf칩rico, 치cido n칤trico o vinagre (en emergencias).</li>
                    <li>Para aumentar el pH (hacerlo m치s alcalino): Hidr칩xido de potasio, carbonato de potasio o bicarbonato de sodio.</li>
                </ul>
            </div>

            <h3>Medici칩n de la EC</h3>
            <div class="info-box">
                <h4>Herramientas:</h4>
                <ul>
                    <li>Medidores digitales de EC/TDS: La forma m치s precisa de medir la concentraci칩n de nutrientes.</li>
                    <li>Refract칩metros: Utilizados principalmente para medir az칰cares, pero pueden dar una indicaci칩n aproximada.</li>
                </ul>

                <h4>Ajuste de la EC:</h4>
                <ul>
                    <li>Para aumentar la EC: A침adir m치s nutrientes a la soluci칩n.</li>
                    <li>Para reducir la EC: Diluir con agua pura (preferiblemente osmosis inversa o agua destilada).</li>
                </ul>
            </div>

            <h2>Frecuencia de Monitoreo</h2>
            <div class="info-box">
                <p>Para cultivos indoor profesionales, lo ideal es:</p>
                <ul>
                    <li>Medir el pH y la EC de la soluci칩n nutritiva antes de cada riego.</li>
                    <li>Medir el pH y la EC del agua de drenaje al menos una vez por semana.</li>
                    <li>Ajustar seg칰n sea necesario para mantener los valores 칩ptimos.</li>
                </ul>
            </div>

            <h2>Consideraciones Especiales por Medio de Cultivo</h2>

            <h3>Tierra</h3>
            <div class="info-box">
                <p>La tierra tiene capacidad buffer que ayuda a estabilizar el pH, pero tambi칠n significa que los problemas pueden tardar m치s en manifestarse y corregirse.</p>
            </div>

            <h3>Coco</h3>
            <div class="info-box">
                <p>El sustrato de fibra de coco tiende a retener m치s calcio y magnesio, lo que puede afectar el pH y la disponibilidad de nutrientes.</p>
            </div>

            <h3>Hidropon칤a</h3>
            <div class="info-box">
                <p>Los sistemas hidrop칩nicos requieren un monitoreo m치s frecuente ya que no hay sustrato que act칰e como buffer. Las fluctuaciones pueden ser r치pidas y dr치sticas.</p>
            </div>

            <h2>Conclusi칩n</h2>
            <p>El control preciso del pH y la EC es fundamental para el 칠xito del cultivo indoor. Un seguimiento regular y ajustes adecuados garantizar치n que tus plantas reciban los nutrientes que necesitan en cada etapa de su desarrollo. Recuerda que cada variedad puede tener preferencias ligeramente diferentes, as칤 que observa siempre tus plantas y ajusta seg칰n sus necesidades espec칤ficas.</p>

            <div class="warning-box">
                <p>La maestr칤a en el manejo del pH y la EC no se logra de la noche a la ma침ana, pero con pr치ctica, observaci칩n y paciencia, conseguir치s optimizar estos par치metros para maximizar la calidad y cantidad de tu cosecha.</p>
            </div>

            <a href="index.html" class="back-to-index">Volver al 칈ndice Principal</a>
        </div>
    </div>

    <script>
        // Funcionalidad del modo oscuro
        const themeToggle = document.getElementById('theme-toggle');
        
        // Verificar si hay una preferencia guardada
        const currentTheme = localStorage.getItem('theme');
        if (currentTheme) {
            document.documentElement.setAttribute('data-theme', currentTheme);
            if (currentTheme === 'dark') {
                themeToggle.checked = true;
            }
        }

        // Funcionalidad del cambio de tema
        document.addEventListener('DOMContentLoaded', function() {
            const themeToggle = document.getElementById('theme-toggle-btn');
            const currentTheme = localStorage.getItem('theme');
            
            // Aplicar tema guardado
            if (currentTheme === 'grow') {
                document.body.classList.add('theme-grow');
            }
            
            // Cambiar tema al hacer clic
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('theme-grow');
                
                // Guardar preferencia
                if (document.body.classList.contains('theme-grow')) {
                    localStorage.setItem('theme', 'grow');
                } else {
                    localStorage.setItem('theme', 'default');
                }
            });
        });

        // Contraer todos los details por defecto
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('details').forEach(function(details) {
                details.removeAttribute('open');
            });
        });

        // Generar el 칤ndice
        document.addEventListener('DOMContentLoaded', function() {
            const content = document.querySelector('.content');
            const toc = document.querySelector('.table-of-contents .toc-content');
            const headings = content.querySelectorAll('h2, h3');
            
            headings.forEach((heading, index) => {
                heading.id = `section-${index}`;
                
                const link = document.createElement('a');
                link.href = `#section-${index}`;
                link.textContent = heading.textContent;
                link.className = 'toc-link';
                
                if (heading.tagName === 'H3') {
                    link.className += ' toc-sub';
                }
                
                toc.appendChild(link);
            });
        });
    </script>
</body>
</html>
