<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía de pH y EC</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="grow_theme.css">

    <!-- Google Translate Script -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'es',
                includedLanguages: 'en,fr,de,it,pt,ru,ja,ko,zh-CN,ar',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false,
                gaTrack: true,
                gaId: 'G-LLRTFTH5W6',
                multilanguagePage: true,
                gaTrack: true
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <!-- Additional Translate Functionality -->
    <script>
        // Debug function to check if Google Translate is loading
        function checkGoogleTranslate() {
            console.log('Checking Google Translate...');
            const translateElement = document.getElementById('google_translate_element');
            if (translateElement) {
                console.log('Translate element found:', translateElement);
                console.log('Translate element content:', translateElement.innerHTML);
            } else {
                console.log('Translate element NOT found');
            }
            
            // Check if Google Translate script is loaded
            if (typeof google !== 'undefined' && google.translate) {
                console.log('Google Translate API loaded successfully');
            } else {
                console.log('Google Translate API NOT loaded');
            }
        }
        
        // Enhanced translation functionality
        function enhanceTranslation() {
            // Wait for Google Translate to be fully loaded
            setTimeout(() => {
                const translateElement = document.querySelector('.goog-te-gadget');
                if (translateElement) {
                    // Add custom styling to make it more visible
                    translateElement.style.display = 'inline-block';
                    translateElement.style.margin = '0 auto';
                    
                    // Ensure the widget is properly centered
                    const widget = document.getElementById('google_translate_element');
                    if (widget) {
                        widget.style.textAlign = 'center';
                        widget.style.display = 'block';
                    }
                    
                    console.log('Google Translate widget enhanced and ready');
                }
            }, 2000);
        }
        
        // Function to ensure all content is translatable
        function ensureTranslatableContent() {
            // Add translate attributes to dynamic content
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'childList') {
                        mutation.addedNodes.forEach(function(node) {
                            if (node.nodeType === 1) { // Element node
                                // Ensure new content is translatable
                                if (!node.hasAttribute('translate')) {
                                    node.setAttribute('translate', 'yes');
                                }
                                
                                // Check child elements
                                const elements = node.querySelectorAll('*');
                                elements.forEach(function(element) {
                                    if (!element.hasAttribute('translate')) {
                                        element.setAttribute('translate', 'yes');
                                    }
                                });
                            }
                        });
                    }
                });
            });

            // Start observing
            observer.observe(document.body, {
                childList: true,
                subtree: true
            });

            console.log('Translation observer started - all content will be translatable');
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, checking Google Translate...');
            setTimeout(checkGoogleTranslate, 1000);
            enhanceTranslation();
        });
        
        // Check again after a longer delay
        setTimeout(checkGoogleTranslate, 3000);
        
        // Start the translation observer
        setTimeout(ensureTranslatableContent, 3000);
    </script>

</head>
<body>
    <div id="theme-toggle-btn" class="theme-toggle-btn">
        <span class="theme-icon">🎨</span>
    </div>
    <div class="container">
        <header>
            <img src="./logo_large.png" alt="Grow Calculator App Logo" class="logo-large">
            <h1>Guía de pH y EC</h1>

            <!-- Google Translate Widget -->
            <div id="google_translate_element" class="translate-widget"></div>

        </header>

        <nav class="navigation">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Volver al Índice</a>
                </li>
                <li class="nav-item">
                    <a href="guia_basica.html" class="nav-link">Anterior: Guía Básica</a>
                </li>
                <li class="nav-item">
                    <a href="temperatura_humedad.html" class="nav-link">Siguiente: Temperatura y Humedad</a>
                </li>
            </ul>
        </nav>

        <div class="table-of-contents">
            <details>
                <summary>Índice</summary>
                <div class="toc-content">
                    <!-- El índice se generará dinámicamente basado en los h2 y h3 del contenido -->
                </div>
            </details>
        </div>

        <div class="content">
            <h2>Introducción</h2>
            <p>El cultivo en interior (indoor) permite un control preciso de todas las variables que afectan al desarrollo de la planta. Entre los parámetros más importantes que deben monitorearse constantemente destacan el pH y la conductividad eléctrica (EC), dos factores que determinan en gran medida el éxito de la cosecha.</p>

            <h2>¿Qué es el pH y por qué es crucial?</h2>
            <p>El pH es una medida de la acidez o alcalinidad de una solución, que se expresa en una escala de 0 a 14, donde 7 es neutro, por debajo de 7 es ácido y por encima de 7 es alcalino o básico. En el cultivo, el pH afecta directamente a la disponibilidad de nutrientes para la planta, ya que cada nutriente se absorbe de manera óptima en un rango específico de pH.</p>

            <div class="info-box">
                <h3>Rango óptimo de pH</h3>
                <ul>
                    <li>Cultivo en tierra: 6.0 - 6.8</li>
                    <li>Cultivo hidropónico o coco: 5.5 - 6.5</li>
                </ul>
                <p>Mantener el pH dentro de estos rangos asegura una absorción adecuada de nutrientes. Cuando el pH está fuera de estos rangos, incluso si los nutrientes están presentes en la solución nutritiva, las plantas no podrán asimilarlos correctamente, lo que conduce a deficiencias nutricionales.</p>
            </div>

            <h3>Síntomas de problemas de pH</h3>
            <div class="warning-box">
                <h4>pH demasiado bajo (muy ácido):</h4>
                <ul>
                    <li>Toxicidad por micronutrientes</li>
                    <li>Bloqueo de calcio y magnesio</li>
                    <li>Crecimiento atrofiado</li>
                </ul>

                <h4>pH demasiado alto (muy alcalino):</h4>
                <ul>
                    <li>Deficiencias de hierro, manganeso, boro y fósforo</li>
                    <li>Clorosis (amarillamiento) entre las venas de las hojas</li>
                </ul>
            </div>

            <h2>La Conductividad Eléctrica (EC)</h2>
            <p>La EC mide la capacidad de una solución para conducir electricidad, lo que está directamente relacionado con la cantidad de sales minerales (nutrientes) disueltas en el agua. Se mide en milisiemens por centímetro (mS/cm) o en microsiemens por centímetro (μS/cm).</p>

            <div class="info-box">
                <h3>Valores recomendados de EC según la etapa de crecimiento</h3>
                <ul>
                    <li>Esquejes y plántulas: 0.5 - 1.0 mS/cm</li>
                    <li>Fase vegetativa temprana: 1.0 - 1.5 mS/cm</li>
                    <li>Fase vegetativa tardía: 1.5 - 2.0 mS/cm</li>
                    <li>Floración temprana: 2.0 - 2.5 mS/cm</li>
                    <li>Floración media: 2.2 - 2.7 mS/cm</li>
                    <li>Floración tardía: 1.5 - 2.0 mS/cm (reducción para mejorar sabor)</li>
                    <li>Lavado final: 0.0 - 0.5 mS/cm</li>
                </ul>
            </div>

            <h3>Consecuencias de una EC inadecuada</h3>
            <div class="warning-box">
                <h4>EC demasiado baja:</h4>
                <ul>
                    <li>Crecimiento lento</li>
                    <li>Tamaño reducido</li>
                    <li>Rendimientos pobres debido a la escasez de nutrientes</li>
                </ul>

                <h4>EC demasiado alta:</h4>
                <ul>
                    <li>"Quemadura por nutrientes" (puntas marrones y rizadas)</li>
                    <li>Bloqueo osmótico</li>
                    <li>Impedimento en la absorción de agua por las raíces</li>
                </ul>
            </div>

            <h2>La Relación entre pH y EC</h2>
            <p>El pH y la EC trabajan en conjunto. Si uno está fuera de rango, afectará al otro:</p>
            <ul>
                <li>Un pH incorrecto puede hacer que ciertos nutrientes no sean absorbidos, elevando así la EC de la solución.</li>
                <li>Una EC demasiado alta puede dificultar la estabilización del pH.</li>
            </ul>

            <h2>Métodos de Medición y Ajuste</h2>

            <h3>Medición del pH</h3>
            <div class="info-box">
                <h4>Herramientas:</h4>
                <ul>
                    <li>Medidores digitales: Ofrecen lecturas precisas y son fáciles de usar.</li>
                    <li>Tiras reactivas: Económicas pero menos precisas.</li>
                    <li>Kits líquidos de pH: Proporcionan una precisión intermedia.</li>
                </ul>

                <h4>Ajuste del pH:</h4>
                <ul>
                    <li>Para reducir el pH (hacerlo más ácido): Ácido fosfórico, ácido nítrico o vinagre (en emergencias).</li>
                    <li>Para aumentar el pH (hacerlo más alcalino): Hidróxido de potasio, carbonato de potasio o bicarbonato de sodio.</li>
                </ul>
            </div>

            <h3>Medición de la EC</h3>
            <div class="info-box">
                <h4>Herramientas:</h4>
                <ul>
                    <li>Medidores digitales de EC/TDS: La forma más precisa de medir la concentración de nutrientes.</li>
                    <li>Refractómetros: Utilizados principalmente para medir azúcares, pero pueden dar una indicación aproximada.</li>
                </ul>

                <h4>Ajuste de la EC:</h4>
                <ul>
                    <li>Para aumentar la EC: Añadir más nutrientes a la solución.</li>
                    <li>Para reducir la EC: Diluir con agua pura (preferiblemente osmosis inversa o agua destilada).</li>
                </ul>
            </div>

            <h2>Frecuencia de Monitoreo</h2>
            <div class="info-box">
                <p>Para cultivos indoor profesionales, lo ideal es:</p>
                <ul>
                    <li>Medir el pH y la EC de la solución nutritiva antes de cada riego.</li>
                    <li>Medir el pH y la EC del agua de drenaje al menos una vez por semana.</li>
                    <li>Ajustar según sea necesario para mantener los valores óptimos.</li>
                </ul>
            </div>

            <h2>Consideraciones Especiales por Medio de Cultivo</h2>

            <h3>Tierra</h3>
            <div class="info-box">
                <p>La tierra tiene capacidad buffer que ayuda a estabilizar el pH, pero también significa que los problemas pueden tardar más en manifestarse y corregirse.</p>
            </div>

            <h3>Coco</h3>
            <div class="info-box">
                <p>El sustrato de fibra de coco tiende a retener más calcio y magnesio, lo que puede afectar el pH y la disponibilidad de nutrientes.</p>
            </div>

            <h3>Hidroponía</h3>
            <div class="info-box">
                <p>Los sistemas hidropónicos requieren un monitoreo más frecuente ya que no hay sustrato que actúe como buffer. Las fluctuaciones pueden ser rápidas y drásticas.</p>
            </div>

            <h2>Conclusión</h2>
            <p>El control preciso del pH y la EC es fundamental para el éxito del cultivo indoor. Un seguimiento regular y ajustes adecuados garantizarán que tus plantas reciban los nutrientes que necesitan en cada etapa de su desarrollo. Recuerda que cada variedad puede tener preferencias ligeramente diferentes, así que observa siempre tus plantas y ajusta según sus necesidades específicas.</p>

            <div class="warning-box">
                <p>La maestría en el manejo del pH y la EC no se logra de la noche a la mañana, pero con práctica, observación y paciencia, conseguirás optimizar estos parámetros para maximizar la calidad y cantidad de tu cosecha.</p>
            </div>

            <a href="index.html" class="back-to-index">Volver al Índice Principal</a>
        </div>
    </div>

    <script>
        // Funcionalidad del modo oscuro
        const themeToggle = document.getElementById('theme-toggle');
        
        // Verificar si hay una preferencia guardada
        const currentTheme = localStorage.getItem('theme');
        if (currentTheme) {
            document.documentElement.setAttribute('data-theme', currentTheme);
            if (currentTheme === 'dark') {
                themeToggle.checked = true;
            }
        }

        // Funcionalidad del cambio de tema
        document.addEventListener('DOMContentLoaded', function() {
            const themeToggle = document.getElementById('theme-toggle-btn');
            const currentTheme = localStorage.getItem('theme');
            
            // Aplicar tema guardado
            if (currentTheme === 'grow') {
                document.body.classList.add('theme-grow');
            }
            
            // Cambiar tema al hacer clic
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('theme-grow');
                
                // Guardar preferencia
                if (document.body.classList.contains('theme-grow')) {
                    localStorage.setItem('theme', 'grow');
                } else {
                    localStorage.setItem('theme', 'default');
                }
            });
        });

        // Contraer todos los details por defecto
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('details').forEach(function(details) {
                details.removeAttribute('open');
            });
        });

        // Generar el índice
        document.addEventListener('DOMContentLoaded', function() {
            const content = document.querySelector('.content');
            const toc = document.querySelector('.table-of-contents .toc-content');
            const headings = content.querySelectorAll('h2, h3');
            
            headings.forEach((heading, index) => {
                heading.id = `section-${index}`;
                
                const link = document.createElement('a');
                link.href = `#section-${index}`;
                link.textContent = heading.textContent;
                link.className = 'toc-link';
                
                if (heading.tagName === 'H3') {
                    link.className += ' toc-sub';
                }
                
                toc.appendChild(link);
            });
        });
    </script>
</body>
</html>
