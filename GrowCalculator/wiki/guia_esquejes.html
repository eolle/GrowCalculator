<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía de Esquejes</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="grow_theme.css">

    <!-- Google Translate Script -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'es',
                includedLanguages: 'en,fr,de,it,pt,ru,ja,ko,zh-CN,ar',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false,
                gaTrack: true,
                gaId: 'G-LLRTFTH5W6',
                multilanguagePage: true,
                gaTrack: true
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <!-- Additional Translate Functionality -->
    <script>
        // Debug function to check if Google Translate is loading
        function checkGoogleTranslate() {
            console.log('Checking Google Translate...');
            const translateElement = document.getElementById('google_translate_element');
            if (translateElement) {
                console.log('Translate element found:', translateElement);
                console.log('Translate element content:', translateElement.innerHTML);
            } else {
                console.log('Translate element NOT found');
            }
            
            // Check if Google Translate script is loaded
            if (typeof google !== 'undefined' && google.translate) {
                console.log('Google Translate API loaded successfully');
            } else {
                console.log('Google Translate API NOT loaded');
            }
        }
        
        // Enhanced translation functionality
        function enhanceTranslation() {
            // Wait for Google Translate to be fully loaded
            setTimeout(() => {
                const translateElement = document.querySelector('.goog-te-gadget');
                if (translateElement) {
                    // Add custom styling to make it more visible
                    translateElement.style.display = 'inline-block';
                    translateElement.style.margin = '0 auto';
                    
                    // Ensure the widget is properly centered
                    const widget = document.getElementById('google_translate_element');
                    if (widget) {
                        widget.style.textAlign = 'center';
                        widget.style.display = 'block';
                    }
                    
                    console.log('Google Translate widget enhanced and ready');
                }
            }, 2000);
        }
        
        // Function to ensure all content is translatable
        function ensureTranslatableContent() {
            // Add translate attributes to dynamic content
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'childList') {
                        mutation.addedNodes.forEach(function(node) {
                            if (node.nodeType === 1) { // Element node
                                // Ensure new content is translatable
                                if (!node.hasAttribute('translate')) {
                                    node.setAttribute('translate', 'yes');
                                }
                                
                                // Check child elements
                                const elements = node.querySelectorAll('*');
                                elements.forEach(function(element) {
                                    if (!element.hasAttribute('translate')) {
                                        element.setAttribute('translate', 'yes');
                                    }
                                });
                            }
                        });
                    }
                });
            });

            // Start observing
            observer.observe(document.body, {
                childList: true,
                subtree: true
            });

            console.log('Translation observer started - all content will be translatable');
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, checking Google Translate...');
            setTimeout(checkGoogleTranslate, 1000);
            enhanceTranslation();
        });
        
        // Check again after a longer delay
        setTimeout(checkGoogleTranslate, 3000);
        
        // Start the translation observer
        setTimeout(ensureTranslatableContent, 3000);
    </script>

</head>
<body>
    <div id="theme-toggle-btn" class="theme-toggle-btn">
        <span class="theme-icon">🎨</span>
    </div>
    <div class="container">
        <header>
            <img src="./logo_large.png" alt="Grow Calculator App Logo" class="logo-large">
            <h1>Guía de Esquejes</h1>

            <!-- Google Translate Widget -->
            <div id="google_translate_element" class="translate-widget"></div>

        </header>

        <nav class="navigation">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Volver al Índice</a>
                </li>
                <li class="nav-item">
                    <a href="tecnicas_cultivo_poda.html" class="nav-link">Anterior: Técnicas de Cultivo y Poda</a>
                </li>
                <li class="nav-item">
                    <a href="luz_espectros.html" class="nav-link">Siguiente: Luz y Espectros</a>
                </li>
            </ul>
        </nav>

        <div class="table-of-contents">
            <details>
                <summary>Índice</summary>
                <div class="toc-content">
                    <!-- El índice se generará dinámicamente basado en los h2 y h3 del contenido -->
                </div>
            </details>
        </div>

        <div class="content">
            <h2>Introducción a los Esquejes</h2>
            <p>Los esquejes son una técnica de propagación vegetativa que permite obtener plantas genéticamente idénticas. Esta técnica ofrece numerosas ventajas para cultivadores principiantes e intermedios:</p>

            <div class="info-box">
                <ul>
                    <li>Preservación de características genéticas</li>
                    <li>Uniformidad en el cultivo</li>
                    <li>Reducción del tiempo de crecimiento</li>
                    <li>Mayor control sobre el resultado final</li>
                </ul>
            </div>

            <h2>Plantas Madres</h2>
            <p>Una planta madre es una planta hembra saludable y vigorosa que se mantiene en estado vegetativo (crecimiento) para obtener esquejes de ella regularmente.</p>

            <h2>Uso Práctico de la Tabla</h2>
            <div class="info-box">
                <h3>Selección de una buena planta madre:</h3>
                <h4>1. Origen:</h4>
                <p>Elige una planta a partir de semilla que muestre características excepcionales:</p>
                <ul>
                    <li>Crecimiento vigoroso</li>
                    <li>Estructura fuerte</li>
                    <li>Resistencia a enfermedades</li>
                    <li>Producción y calidad demostrada (tras probar un ciclo completo)</li>
                </ul>

                <h4>2. Características deseables:</h4>
                <ul>
                    <li>Entrenudos cortos o medios (facilita la obtención de esquejes)</li>
                    <li>Sistema radicular fuerte</li>
                    <li>Resistencia al estrés</li>
                    <li>Tiempo de floración preferido</li>
                    <li>Sabor, aroma y efecto que te agrade</li>
                </ul>
            </div>

            <h3>Espacio y condiciones para la planta madre</h3>
            <div class="info-box">
                <h4>1. Contenedor:</h4>
                <ul>
                    <li>Maceta de 15-30 litros (según tiempo de mantenimiento previsto)</li>
                    <li>Buen drenaje y aireación</li>
                </ul>

                <h4>2. Iluminación:</h4>
                <ul>
                    <li>Ciclo: 18 horas luz/6 horas oscuridad (o 20/4)</li>
                    <li>Intensidad: Media (400-600 μmol/m²/s)</li>
                    <li>Tipo: LED de espectro completo o tubos fluorescentes T5</li>
                </ul>

                <h4>3. Temperatura y humedad:</h4>
                <ul>
                    <li>Temperatura: 20-24°C</li>
                    <li>Humedad: 45-60%</li>
                </ul>

                <h4>4. Nutrición:</h4>
                <ul>
                    <li>Fertilización ligera, rica en nitrógeno</li>
                    <li>EC: 1.0-1.4 mS/cm (menos que plantas en vegetativo normal)</li>
                    <li>Suplementación ocasional con silicio para fortalecer tallos</li>
                </ul>
            </div>

            <h3>Mantenimiento y longevidad</h3>
            <div class="info-box">
                <h4>1. Poda regular:</h4>
                <ul>
                    <li>Poda apical para fomentar ramificación</li>
                    <li>Elimina regularmente las ramas más bajas</li>
                </ul>

                <h4>2. Prevención de floración:</h4>
                <ul>
                    <li>Mantén ciclo de luz estrictamente</li>
                    <li>Evita filtraciones de luz en periodo oscuro</li>
                    <li>Evita que supere 16 horas de oscuridad continua</li>
                </ul>

                <h4>3. Renovación periódica:</h4>
                <ul>
                    <li>Cada 6-12 meses, saca un esqueje de tu madre actual</li>
                    <li>Enraízalo y conviértelo en tu nueva madre</li>
                    <li>Esto evita problemas de envejecimiento y deterioro</li>
                </ul>

                <h4>4. Rejuvenecimiento:</h4>
                <ul>
                    <li>Si la madre muestra signos de envejecimiento (crecimiento lento, entrenudos largos)</li>
                    <li>Poda severa hasta reducirla a 1/3 de su tamaño</li>
                    <li>Trasplante a sustrato fresco</li>
                    <li>Reducción de EC (0.8-1.0 mS/cm) por dos semanas</li>
                </ul>
            </div>

            <h2>Toma de Esquejes: Paso a Paso</h2>

            <div class="info-box">
                <h3>Materiales necesarios:</h3>
                <ul>
                    <li>Hoja de afeitar o cuchilla bien afilada y limpia</li>
                    <li>Alcohol 70% para desinfectar</li>
                    <li>Agua tibia</li>
                    <li>Gel/polvo de enraizamiento (con hormonas IBA/AIB)</li>
                    <li>Rockwool, jiffy, sustrato ligero o aeroclonador</li>
                    <li>Domo de propagación o botella cortada (mini invernadero)</li>
                    <li>Calentador de propagación (opcional)</li>
                    <li>Luz tenue (fluorescente o LED en baja intensidad)</li>
                    <li>Spray pulverizador</li>
                </ul>
            </div>

            <h3>Preparación</h3>
            <div class="info-box">
                <h4>1. Prepara la planta madre:</h4>
                <ul>
                    <li>No fertilices 2-3 días antes de tomar esquejes</li>
                    <li>Riega abundantemente el día anterior</li>
                    <li>Asegúrate que esté bien hidratada pero no sobrefertilizada</li>
                </ul>

                <h4>2. Desinfección:</h4>
                <ul>
                    <li>Limpia todas las herramientas con alcohol</li>
                    <li>Lávate bien las manos o usa guantes limpios</li>
                    <li>Prepara agua a temperatura ambiente</li>
                </ul>

                <h4>3. Prepara el medio de enraizamiento:</h4>
                <ul>
                    <li>Si usas rockwool: remoja en agua pH 5.5-6.0 por 30 minutos</li>
                    <li>Si usas jiffy: hidrata según instrucciones</li>
                    <li>Si usas sustrato: humedece ligeramente</li>
                </ul>
            </div>

            <h3>Proceso de corte</h3>
            <div class="info-box">
                <h4>1. Selección de ramas:</h4>
                <ul>
                    <li>Elige ramas laterales sanas de 10-15 cm</li>
                    <li>Evita las ramas muy gruesas o muy delgadas</li>
                    <li>Prioriza ramas con al menos 2-3 nudos</li>
                    <li>Evita ramas que estén comenzando a florecer</li>
                </ul>

                <h4>2. Corte correcto:</h4>
                <ul>
                    <li>Corta en ángulo de 45° justo debajo de un nudo</li>
                    <li>Realiza el corte de un solo movimiento limpio</li>
                    <li>Coloca inmediatamente en agua tibia</li>
                </ul>

                <h4>3. Preparación del esqueje:</h4>
                <ul>
                    <li>Elimina las hojas inferiores y reduce las superiores</li>
                    <li>Deja 2-3 pares de hojas en la parte superior</li>
                    <li>Si las hojas son grandes, recórtalas a la mitad</li>
                    <li>Haz un corte en 45° en la base nuevamente (a 0.5-1 cm de la base)</li>
                </ul>

                <h4>4. Aplicación de hormona:</h4>
                <ul>
                    <li>Sacude el exceso de agua del tallo</li>
                    <li>Sumerge 1-2 cm de la base en gel/polvo de enraizamiento</li>
                    <li>Evita excesos y sacude el sobrante</li>
                </ul>

                <h4>5. Instalación en medio de enraizamiento:</h4>
                <ul>
                    <li>Haz un agujero en el medio (con un palillo)</li>
                    <li>Introduce el esqueje hasta que quede firme</li>
                    <li>No empujes el esqueje directamente (dañaría la capa de hormona)</li>
                </ul>
            </div>

            <h3>Condiciones para el enraizamiento</h3>
            <div class="info-box">
                <h4>1. Luz:</h4>
                <ul>
                    <li>Intensidad baja: 100-250 μmol/m²/s</li>
                    <li>18 horas de luz / 6 de oscuridad</li>
                    <li>Distancia: 50-70 cm de tubos fluorescentes o LED en baja potencia</li>
                </ul>

                <h4>2. Temperatura:</h4>
                <ul>
                    <li>Ambiente: 22-24°C</li>
                    <li>Base/Sustrato: 24-26°C (el calor en la base acelera el enraizamiento)</li>
                    <li>Evita fluctuaciones bruscas de temperatura</li>
                </ul>

                <h4>3. Humedad:</h4>
                <ul>
                    <li>80-95% los primeros 7 días</li>
                    <li>70-80% después del día 7</li>
                    <li>Usa domo de propagación o botella cortada</li>
                    <li>Ventila brevemente 2-3 veces al día</li>
                </ul>

                <h4>4. Hidratación:</h4>
                <ul>
                    <li>Pulveriza suavemente 2-3 veces al día</li>
                    <li>Evita que se acumule agua líquida en las hojas</li>
                    <li>Mantén el medio de enraizamiento húmedo pero no empapado</li>
                </ul>
            </div>

            <h3>Calendario de enraizamiento</h3>
            <div class="info-box">
                <h4>Días 1-3:</h4>
                <ul>
                    <li>Mantén humedad alta constante</li>
                    <li>Los esquejes pueden verse un poco caídos, es normal</li>
                    <li>No expongas a luz directa intensa</li>
                </ul>

                <h4>Días 4-7:</h4>
                <ul>
                    <li>Primeros signos de recuperación</li>
                    <li>Las puntas empiezan a mostrar nuevo crecimiento</li>
                    <li>Mantén alta humedad</li>
                </ul>

                <h4>Días 8-14:</h4>
                <ul>
                    <li>Comienzan a formarse raíces</li>
                    <li>Puedes abrir las ventilaciones del domo gradualmente</li>
                    <li>Reduce frecuencia de pulverización</li>
                </ul>

                <h4>Días 14-21:</h4>
                <ul>
                    <li>Raíces visibles en la base</li>
                    <li>Comienza aclimatación reduciendo humedad</li>
                    <li>Retira el domo progresivamente</li>
                </ul>
            </div>

            <h2>Trasplante de los Esquejes Enraizados</h2>

            <div class="info-box">
                <h3>Cuándo trasplantar:</h3>
                <h4>1. Señales visuales:</h4>
                <ul>
                    <li>Raíces blancas de 2-5 cm visibles</li>
                    <li>Nuevo crecimiento en la parte superior</li>
                    <li>Aspecto vigoroso y erguido</li>
                </ul>

                <h4>2. Tiempo aproximado:</h4>
                <ul>
                    <li>Entre 10-21 días después del corte</li>
                    <li>Varía según variedad, condiciones y época del año</li>
                </ul>
            </div>

            <div class="info-box">
                <h3>Proceso de trasplante:</h3>
                <h4>1. Preparación:</h4>
                <ul>
                    <li>Prepara macetas pequeñas (1-3 litros)</li>
                    <li>Usa sustrato ligero para plantines</li>
                    <li>Humedece el sustrato previamente</li>
                </ul>

                <h4>2. Manipulación cuidadosa:</h4>
                <ul>
                    <li>Evita tocar las raíces directamente</li>
                    <li>Manipula por el cubo de rockwool/jiffy o sustrato</li>
                </ul>
            </div>

            <a href="index.html" class="back-to-index">Volver al Índice Principal</a>
        </div>
    </div>

    <script>
        // Funcionalidad del modo oscuro
        const themeToggle = document.getElementById('theme-toggle');
        
        // Verificar si hay una preferencia guardada
        const currentTheme = localStorage.getItem('theme');
        if (currentTheme) {
            document.documentElement.setAttribute('data-theme', currentTheme);
            if (currentTheme === 'dark') {
                themeToggle.checked = true;
            }
        }

        // Funcionalidad del cambio de tema
        document.addEventListener('DOMContentLoaded', function() {
            const themeToggle = document.getElementById('theme-toggle-btn');
            const currentTheme = localStorage.getItem('theme');
            
            // Aplicar tema guardado
            if (currentTheme === 'grow') {
                document.body.classList.add('theme-grow');
            }
            
            // Cambiar tema al hacer clic
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('theme-grow');
                
                // Guardar preferencia
                if (document.body.classList.contains('theme-grow')) {
                    localStorage.setItem('theme', 'grow');
                } else {
                    localStorage.setItem('theme', 'default');
                }
            });
        });

        // Contraer todos los details por defecto
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('details').forEach(function(details) {
                details.removeAttribute('open');
            });
        });

        // Generar el índice
        document.addEventListener('DOMContentLoaded', function() {
            const content = document.querySelector('.content');
            const tocContent = document.querySelector('.table-of-contents .toc-content');
            const headings = content.querySelectorAll('h2, h3');
            
            headings.forEach((heading, index) => {
                // Añadir ID al heading
                heading.id = `section-${index}`;
                
                // Crear enlace en el índice
                const link = document.createElement('a');
                link.href = `#section-${index}`;
                link.textContent = heading.textContent;
                link.className = 'toc-link';
                
                // Añadir clase para subsecciones
                if (heading.tagName === 'H3') {
                    link.className += ' toc-sub';
                }
                
                tocContent.appendChild(link);
            });
        });
    </script>
</body>
</html>
